-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- SOUNDEFFECT Table Create SQL
CREATE TABLE SOUNDEFFECT
(
    SOUNDEFFECTNUM     INT             NOT NULL, 
    SOUNDEFFECTNAME    VARCHAR2(20)    NOT NULL, 
    CONSTRAINT SOUNDEFFECT_PK PRIMARY KEY (SOUNDEFFECTNUM)
)
/


-- MEMBER Table Create SQL
CREATE TABLE MEMBER
(
    ID          VARCHAR2(20)    NOT NULL, 
    PASSWORD    VARCHAR2(50)    NOT NULL, 
    CLEAR       INT             DEFAULT 0 NOT NULL, 
    isNewbie    INT             DEFAULT 0 NOT NULL, 
    CONSTRAINT MEMBER_PK PRIMARY KEY (ID)
)
/

-- DEADSOUND Table Create SQL
CREATE TABLE DEADSOUND
(
    DEADSOUNDNUM     INT             NOT NULL, 
    DEADSOUNDNAME    VARCHAR2(20)    NOT NULL, 
    CONSTRAINT DEADSOUND_PK PRIMARY KEY (DEADSOUNDNUM)
)
/


-- BGM Table Create SQL
CREATE TABLE BGM
(
    BGMNAME    VARCHAR2(20)    NOT NULL, 
    BPM        INT             NOT NULL, 
    CONSTRAINT BGM_PK PRIMARY KEY (BGMNAME)
)
/


-- STATE Table Create SQL
CREATE TABLE STATE
(
    STATENUM      INT             NOT NULL, 
    STATENAME     VARCHAR2(20)    NOT NULL, 
    CONTENTNUM    INT             DEFAULT 0 NOT NULL, 
    CONSTRAINT STATE_PK PRIMARY KEY (STATENUM)
)
/


-- BOSS Table Create SQL
CREATE TABLE BOSS
(
    BOSSNAME           VARCHAR2(20)    NOT NULL, 
    HEALTH             VARCHAR2(20)    NOT NULL, 
    SKILL              VARCHAR2(20)    NOT NULL, 
    SKILLPERCENTAGE    INT             NOT NULL, 
    SOUNDEFFECTNUM     INT             NULL, 
    DEADSOUNDNUM       INT             NULL, 
    CONSTRAINT BOSS_PK PRIMARY KEY (BOSSNAME)
)
/

ALTER TABLE BOSS
    ADD CONSTRAINT FK_BOSS_SOUNDEFFECTNUM_SOUNDEF FOREIGN KEY (SOUNDEFFECTNUM)
        REFERENCES SOUNDEFFECT (SOUNDEFFECTNUM)
/

ALTER TABLE BOSS
    ADD CONSTRAINT FK_BOSS_DEADSOUNDNUM_DEADSOUND FOREIGN KEY (DEADSOUNDNUM)
        REFERENCES DEADSOUND (DEADSOUNDNUM)
/


-- STAGE Table Create SQL
CREATE TABLE STAGE
(
    STAGENUM       INT               NOT NULL, 
    BGMNAME        VARCHAR2(20)      NOT NULL, 
    MONSTERLIST    VARCHAR2(1000)    NOT NULL, 
    BGIMGNAME      VARCHAR2(20)      NOT NULL, 
    BOSSNAME       VARCHAR2(20)      NULL, 
    CONSTRAINT STAGE_PK PRIMARY KEY (STAGENUM)
)
/


ALTER TABLE STAGE
    ADD CONSTRAINT FK_STAGE_BGMNAME_BGM_BGMNAME FOREIGN KEY (BGMNAME)
        REFERENCES BGM (BGMNAME)
/

ALTER TABLE STAGE
    ADD CONSTRAINT FK_STAGE_BOSSNAME_BOSS_BOSSNAM FOREIGN KEY (BOSSNAME)
        REFERENCES BOSS (BOSSNAME)
/


-- MONSTER Table Create SQL
CREATE TABLE MONSTER
(
    MONSTERNUM         INT             NOT NULL, 
    MONSTERNAME        VARCHAR2(20)    NOT NULL, 
    SPEED              INT             NOT NULL, 
    HEALTH             INT             NOT NULL, 
    SKILL              VARCHAR2(20)    DEFAULT 'jump' NOT NULL, 
    SKILLPERCENTAGE    INT             DEFAULT 0 NOT NULL, 
    SOUNDEFFECTNUM     INT             NULL, 
    DEADSOUNDNUM       INT             NULL, 
    CONSTRAINT MONSTER_PK PRIMARY KEY (MONSTERNUM)
)
/

ALTER TABLE MONSTER
    ADD CONSTRAINT FK_MONSTER_SOUNDEFFECTNUM_SOUN FOREIGN KEY (SOUNDEFFECTNUM)
        REFERENCES SOUNDEFFECT (SOUNDEFFECTNUM)
/

ALTER TABLE MONSTER
    ADD CONSTRAINT FK_MONSTER_DEADSOUNDNUM_DEADSO FOREIGN KEY (DEADSOUNDNUM)
        REFERENCES DEADSOUND (DEADSOUNDNUM)
/


-- MULTI Table Create SQL
CREATE TABLE MULTI
(
    MULTISLOT      INT             NOT NULL, 
    ID             VARCHAR2(20)    DEFAULT 'NOBODY' NULL, 
    NUMOFPLAYER    INT             DEFAULT 1 NOT NULL, 
    ISUSED         INT             DEFAULT 0 NOT NULL, 
    CONSTRAINT MULTI_PK PRIMARY KEY (MULTISLOT)
)
/

ALTER TABLE MULTI
    ADD CONSTRAINT FK_MULTI_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- SAVE Table Create SQL
CREATE TABLE SAVE
(
    ID            VARCHAR2(20)      NOT NULL, 
    LIFE          INT               NOT NULL, 
    MOTIONLIST    VARCHAR2(1000)    NOT NULL, 
    STATENUM      INT               NOT NULL, 
    CONSTRAINT SAVE_PK PRIMARY KEY (ID)
)
/


ALTER TABLE SAVE
    ADD CONSTRAINT FK_SAVE_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/

ALTER TABLE SAVE
    ADD CONSTRAINT FK_SAVE_STATENUM_STATE_STATENU FOREIGN KEY (STATENUM)
        REFERENCES STATE (STATENUM)
/


-- HALLOFFAME Table Create SQL
CREATE TABLE HALLOFFAME
(
    ID           VARCHAR2(20)     NOT NULL, 
    TEXT         VARCHAR2(100)    DEFAULT '너무 재밌다~!' NOT NULL, 
    CLEARDATE    DATE             DEFAULT SYSDATE NOT NULL, 
    CONSTRAINT HALLOFFAME_PK PRIMARY KEY (ID)
)
/

ALTER TABLE HALLOFFAME
    ADD CONSTRAINT FK_HALLOFFAME_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- MOTION Table Create SQL
CREATE TABLE MOTION
(
    KINDS             INT             NOT NULL, 
    EFFECT            VARCHAR2(20)    NOT NULL, 
    SOUNDEFFECTNUM    INT             NOT NULL, 
    CONSTRAINT MOTION_PK PRIMARY KEY (KINDS)
)
/

ALTER TABLE MOTION
    ADD CONSTRAINT FK_MOTION_SOUNDEFFECTNUM_SOUND FOREIGN KEY (SOUNDEFFECTNUM)
        REFERENCES SOUNDEFFECT (SOUNDEFFECTNUM)
/


-- STORY Table Create SQL
CREATE TABLE STORY
(
    CONTENTORDER      INT               NOT NULL, 
    STORYNUM          INT               NOT NULL, 
    CONTENT           VARCHAR2(1000)    NOT NULL, 
    IMGNAME           VARCHAR2(20)      NOT NULL, 
    MUSICNAME         VARCHAR2(20)      NOT NULL, 
    CHARACTERNAME     VARCHAR2(20)      NOT NULL, 
    SOUNDEFFECTNUM    INT               NULL, 
    CONSTRAINT STORY_PK PRIMARY KEY (CONTENTORDER)
)
/

ALTER TABLE STORY
    ADD CONSTRAINT FK_STORY_SOUNDEFFECTNUM_SOUNDE FOREIGN KEY (SOUNDEFFECTNUM)
        REFERENCES SOUNDEFFECT (SOUNDEFFECTNUM)
/


